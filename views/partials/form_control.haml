%div{ class: "form-group#{model.errors[name] ? ' has-error' : ''}" }
  %label.col-sm-3.control-label{ for: attributes[:id] }= label
  .col-sm-9
    - type = attributes.delete(:type)
    - if type == 'select'
      - options = attributes.delete(:options)
      %select{attributes}
        %option{ value: ""} -- Select One --
        - options.each do |k,v| k ||= v;  v ||= k;
          %option{ value: k, selected: (k.to_s == model[name].to_s)}= v
    - elsif type == 'textarea'
      %textarea{attributes}
        = model[name]
    - else
      %input{attributes, type: type, value: model[name]}
    - if model.errors[name]
      %p.help-block.text-danger= model.errors[name].join(', ')
